<section class="bg-[rgb(241,241,241)] layout--grid py-5 mb-14 gap-y-5">
  {% render 'dump' with section.settings.collection %}
  <div class="col-span-6 flex items-center justify-center">
    <div class="w-full max-w-sm">
      <a href="{{ section.settings.collection.url }}">
        <h2 class="heading-1">
          {{ section.settings.collection.title }}
        </h2>
      </a>
      <div>
        <p class=" text-[16px] md:text-[20px] leading-5">{{ section.settings.description }}</p>
      </div>
    </div>
  </div>
  <div class="col-span-6">
    <a href="{{ section.settings.collection.url }}">
      <div class="group overflow-hidden">
        {% if section.settings.collection.image != blank %}
          {{
            section.settings.collection.image
            | image_url: width: 900
            | image_tag:
              loading: 'lazy',
              class: 'lg:group-hover:scale-[1.1] transition-all w-full h-auto relative flex object-center aspect-square object-cover'
          }}
        {% else %}
          <div class="aspect-square bg-[#120d0d]"></div>
        {% endif %}
      </div>
    </a>
  </div>
  <div class="col-span-12 grid grid-cols-12 gap-x-5">
    {%- for product in section.settings.collection.products limit: 4 -%}
      <div class="col-span-3">
        {%- if product and product != empty -%}
          {%- assign lazy_load = lazy_load | default: 'lazy' -%}

          <a href="{{ product.url | within: collection }}" class="card-wrapper group">
            <div class="card">
              {%- if product.featured_media != blank -%}
                <div class="relative w-full block aspect-video mb-[16px] overflow-hidden">
                  {{
                    product.featured_media
                    | image_url: width: 600
                    | image_tag:
                      loading: lazy_load,
                      class: 'aspect-video w-full h-full absolute inset-0 object-center z-10 lg:group-hover:scale-[1.1] transition-all object-cover object-center'
                  }}
                </div>
              {%- endif -%}

              <div class="card-product-title--wrapper">
                <h3 class="body-1 text-green text-[16px] md:text-[20px]">
                  {{ product.title }}
                </h3>
              </div>
            </div>
          </a>
        {%- endif -%}
      </div>
    {%- endfor -%}
  </div>
</section>

{% schema %}
{
  "name": "Collection Listing",
  "settings": [
    {
      "type": "textarea",
      "id": "description",
      "label": "Collection Description"
    },
    {
      "type": "collection",
      "id": "collection",
      "label": "Featured Collection",
      "info": "Choose the collection (Brand) you'd like to feature"
    }
  ],
  "presets": [
    {
      "name": "Collection Listing",
      "blocks": []
    }
  ]
}
{% endschema %}
