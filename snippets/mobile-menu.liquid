{% comment %} Mobile linked List {% endcomment %}

<div class="mobile-main-menu--wrapper pt-[96px] w-full h-full text-green">
  <ul class="main-menu-mobile flex flex-col flex-wrap relative z-40">
    {% for link in menu.links %}
      <li class="px-[16px] border-b border-[#CED3D3] menu-item block {% if link.links %} has-dropdown{% endif %}">
        <div>
          {% if link.links %}
            <div class="w-full flex items-center justify-between">
              <button
                href="{{ link.url }}"
                data-link="{{ link.handle }}"
                class="body-smaller uppercase"
                x-data="{ isAccordionOpen: false }"
              >
                {{ link.title }}
              </button>
              <button @click="isAccordionOpen = !isAccordionOpen" class="relative w-5 h-5">
                <span class="w-5 h-0.5  bg-black block absolute top-1/2 left-0 translate-y-[-1px]"></span>
                <span
                  class="w-0.5 h-5 bg-black block absolute top-0 left-1/2 opacity transition ease-in-out duration-500"
                  :class="{'opacity-0': isAccordionOpen,' opacity-100': !isAccordionOpen }"
                ></span>
              </button>
            </div>
            <ul
              class=""
              x-cloak
              x-show="isAccordionOpen"
              x-collapse
              x-collapse.duration.500ms
            >
              {% for sublink in link.links %}
                <li class="submenu-item w-full{% if sublink.links %} has-submenu{% endif %}">
                  <a href="{{ sublink.url }}" class="body-smaller uppercase">
                    {{ sublink.title }}
                  </a>
                </li>
              {% endfor %}
            </ul>
          {% endif %}
        </div>
      </li>
    {% endfor %}
  </ul>
</div>
